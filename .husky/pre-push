#!/usr/bin/env sh

# ğŸ§  EGO Pre-Push Hook
echo ""
echo "â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—"
echo "â•‘  ğŸ§  EGO Pre-Push Check                â•‘"
echo "â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•"
echo ""

# Function to print status
print_status() {
  if [ $1 -eq 0 ]; then
    echo "âœ… $2"
  else
    echo "âš ï¸  $2 (non-blocking)"
  fi
}

echo "ğŸ” Running full checks before push..."
echo ""

# Run linters
echo "ğŸ¨ Linting all code..."
make lint
print_status $? "Lint"
echo ""

# Run tests (when they exist)
echo "ğŸ§ª Running tests..."
make test
print_status $? "Tests"
echo ""

echo "â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—"
echo "â•‘  ğŸš€ Ready to push! Let's go!          â•‘"
echo "â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•"
echo ""

# Always succeed (warnings only)
exit 0
